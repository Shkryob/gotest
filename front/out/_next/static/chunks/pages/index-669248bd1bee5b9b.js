(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8963)}])},8963:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return h}});var s=r(5666),n=r.n(s),t=r(5893),c=r(5988),i=r(9008),l=r(7294),o=r(9669),u=r.n(o);function b(e,a){for(var r=0;r<a.length;r++){var s=a[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var d=new(function(){function e(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e)}var a,r,s;return a=e,(r=[{key:"getList",value:function(){return u().get("/api/users")}},{key:"create",value:function(e){return u().post("/api/users",e)}}])&&b(a.prototype,r),s&&b(a,s),e}());function j(e,a,r,s,n,t,c){try{var i=e[t](c),l=i.value}catch(o){return void r(o)}i.done?a(l):Promise.resolve(l).then(s,n)}function x(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function f(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(a){x(e,a,r[a])}))}return e}function m(e){return function(e){if(Array.isArray(e)){for(var a=0,r=new Array(e.length);a<e.length;a++)r[a]=e[a];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(){var e,a=(0,l.useState)({users:[],error:""}),r=a[0],s=a[1];(0,l.useEffect)((e=n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getList();case 2:a=e.sent,s((function(e){return f({},e,{users:a.data.users})}));case 4:case"end":return e.stop()}}),e)})),function(){var a=this,r=arguments;return new Promise((function(s,n){var t=e.apply(a,r);function c(e){j(t,s,n,c,i,"next",e)}function i(e){j(t,s,n,c,i,"throw",e)}c(void 0)}))}),[]);return(0,t.jsxs)("div",{className:"jsx-82a0702adbb844e4",children:[(0,t.jsxs)(i.default,{children:[(0,t.jsx)("title",{className:"jsx-82a0702adbb844e4",children:"GoTest"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-82a0702adbb844e4"})]}),(0,t.jsxs)("main",{className:"jsx-82a0702adbb844e4",children:[(0,t.jsx)("h1",{className:"jsx-82a0702adbb844e4",children:"Welcome to the Club!"}),(0,t.jsx)("h2",{className:"jsx-82a0702adbb844e4",children:"New member"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=new FormData(e.currentTarget),r=Object.fromEntries(a.entries());d.create({user:r}).then((function(e){s((function(a){return f({},a,{users:m(a.users).concat([e.data]),error:""})}))})).catch((function(e){console.log("catch result",e),s((function(a){return f({},a,{error:e.response.data.errors.body})}))}))},className:"jsx-82a0702adbb844e4",children:[(0,t.jsxs)("label",{className:"jsx-82a0702adbb844e4",children:["Name: ",(0,t.jsx)("input",{type:"text",name:"username",required:!0,className:"jsx-82a0702adbb844e4"})]}),(0,t.jsxs)("label",{className:"jsx-82a0702adbb844e4",children:["Email: ",(0,t.jsx)("input",{type:"email",name:"email",required:!0,className:"jsx-82a0702adbb844e4"})]}),(0,t.jsxs)("div",{className:"jsx-82a0702adbb844e4",children:[(0,t.jsx)("button",{type:"submit",className:"jsx-82a0702adbb844e4",children:"Add"}),(0,t.jsx)("button",{type:"reset",className:"jsx-82a0702adbb844e4",children:"Clear"})]}),(0,t.jsx)("div",{className:"jsx-82a0702adbb844e4 error",children:r.error})]}),(0,t.jsx)("h2",{className:"jsx-82a0702adbb844e4",children:"Members"}),(0,t.jsxs)("table",{className:"jsx-82a0702adbb844e4",children:[(0,t.jsx)("thead",{className:"jsx-82a0702adbb844e4",children:(0,t.jsxs)("tr",{className:"jsx-82a0702adbb844e4",children:[(0,t.jsx)("th",{className:"jsx-82a0702adbb844e4",children:"#"}),(0,t.jsx)("th",{className:"jsx-82a0702adbb844e4",children:"Name"}),(0,t.jsx)("th",{className:"jsx-82a0702adbb844e4",children:"Email"}),(0,t.jsx)("th",{className:"jsx-82a0702adbb844e4",children:"Registration Date"})]})}),(0,t.jsx)("tbody",{className:"jsx-82a0702adbb844e4",children:r.users.map((function(e){var a=e.user;return(0,t.jsxs)("tr",{className:"jsx-82a0702adbb844e4",children:[(0,t.jsx)("td",{className:"jsx-82a0702adbb844e4",children:a.id}),(0,t.jsx)("td",{className:"jsx-82a0702adbb844e4",children:a.username}),(0,t.jsx)("td",{className:"jsx-82a0702adbb844e4",children:a.email}),(0,t.jsx)("td",{className:"jsx-82a0702adbb844e4",children:a.createdAt})]},a.id)}))})]})]}),(0,t.jsx)(c.default,{id:"82a0702adbb844e4",children:"label.jsx-82a0702adbb844e4 {display:block}\n.error.jsx-82a0702adbb844e4 {color:red}"})]})}}},function(e){e.O(0,[774,793,888,179],(function(){return a=8581,e(e.s=a);var a}));var a=e.O();_N_E=a}]);